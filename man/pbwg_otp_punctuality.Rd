% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/otp.R
\name{pbwg_otp_punctuality}
\alias{pbwg_otp_punctuality}
\title{OTP punctuality extract}
\usage{
pbwg_otp_punctuality(years, airports, conn = NULL)
}
\arguments{
\item{years}{Integer vector of years (Gregorian) to retrieve.}

\item{airports}{Character vector of ICAO airport designators used for the
TOP34 flag as well as the explicit airport columns in the result.}

\item{conn}{Optional Oracle \link[DBI:DBIConnection-class]{DBI::DBIConnection}. When omitted a fresh
\code{PRU_DEV} connection is created via \code{\link[eurocontrol:db_connection]{eurocontrol::db_connection()}}.}
}
\value{
A tibble with one row per \verb{(YY, MM, ADEP, ADES, PCT_DEP, PCT_ARR)}
combination; the executed SQL statements (one per year) are attached in the
\code{"sql"} attribute.
}
\description{
Pulls CODA/CFMU punctuality counts for a set of airports and years by
reusing the legacy SQL embedded in \code{02-chn-eur-data-prep.Rmd}.
}
