% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/chn_eur_traffic_processing.R
\name{pbwg_traffic_summary}
\alias{pbwg_traffic_summary}
\title{PBWG regional traffic summary (EUR view)}
\usage{
pbwg_traffic_summary(
  wef,
  til,
  region = "ECAC",
  schema = c("pbwg", "chn"),
  conn = NULL
)
}
\arguments{
\item{wef}{Start date (inclusive). Can be anything that
\code{\link[lubridate:as_date]{lubridate::as_date()}} understands.}

\item{til}{End date (inclusive). Can be anything that
\code{\link[lubridate:as_date]{lubridate::as_date()}} understands.}

\item{region}{DAIO region code. Defaults to \code{"ECAC"}.}

\item{schema}{Output shape: \code{"pbwg"} (default, full EUR table with ARRS/DEPS,
domestic, overflights, and PAX) or \code{"chn"} (lean CHN-EUR dashboard schema).}

\item{conn}{Optional Oracle \link[DBI:DBIConnection-class]{DBI::DBIConnection}. When omitted a fresh
connection to \code{PRUDEV} is created via \code{\link[eurocontrol:db_connection]{eurocontrol::db_connection()}}, with
access to \code{SWH_FCT.V_FAC_FLIGHT_MS} and \code{PRUDEV.V_PRU_AIRCRAFT_CATEGORY}.}
}
\value{
A list with the processed \code{data}, an optional \code{plot} (if \code{plotly}
is installed), diagnostic \code{details}, and the \code{raw} component tables.
\describe{
\item{data}{Tibble of daily metrics. For \code{schema = "pbwg"} columns are
\code{REG}, \code{DATE}, \code{FLIGHTS}, \code{ARRS}, \code{DEPS}, \code{HEAVY}, \code{MED}, \code{LIGHT},
\code{ARRS_DOM}, \code{DEPS_DOM}, \code{OVR_FLTS}, \code{PAX}, \code{CARGO}, \code{OTHER}, \code{D}, \code{A},
\code{I}, \code{O}, \code{SCHED}, \code{CHARTER}. For \code{schema = "chn"} columns are \code{REG},
\code{DATE}, \code{FLIGHTS}, \code{D}, \code{A}, \code{I}, \code{O}, \code{HEAVY}, \code{MED}, \code{LIGHT}, \code{SCHED},
\code{CHARTER}, \code{CARGO}, \code{OTHER}.}
\item{plot}{Optional \code{plotly} object showing DAIO breakdown if \code{plotly} is installed, otherwise \code{NULL}.}
\item{diagnostics}{List with \code{deltas} (sanity-check calculations) and \code{messages} (warnings about imbalances).}
\item{raw}{List of component tables: \code{weight_segment}, \code{market_segment}, and \code{daio}.}
}
}
\description{
PBWG workflow that merges DAIO, H/M/L, and market
segment statistics into a single daily table.
}
