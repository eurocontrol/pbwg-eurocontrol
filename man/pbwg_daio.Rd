% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/daio.R
\name{pbwg_daio}
\alias{pbwg_daio}
\title{Daily DAIO traffic counts}
\usage{
pbwg_daio(wef, til, region, include_source_id = FALSE, conn = NULL)
}
\arguments{
\item{wef}{Start date (inclusive). Can be anything that
\code{\link[lubridate:as_date]{lubridate::as_date()}} understands.}

\item{til}{End date (inclusive). Can be anything that
\code{\link[lubridate:as_date]{lubridate::as_date()}} understands.}

\item{region}{One or more TZ codes (e.g. \code{"ECAC"}). Values are embedded into
the SQL \code{IN (...)} clause verbatim.}

\item{include_source_id}{Should \code{SK_SOURCE_ID} be returned? Defaults to
\code{FALSE}, mirroring the classic DAIO table.}

\item{conn}{Optional Oracle \link[DBI:DBIConnection-class]{DBI::DBIConnection}. When omitted a fresh
connection to \code{PRUDEV} is created via \code{\link[eurocontrol:db_connection]{eurocontrol::db_connection()}}, with
access to \code{SWH_FCT.V_FAC_FLIGHT_MS} and \code{PRUDEV.V_PRU_AIRCRAFT_CATEGORY}.}
}
\value{
A \code{\link[tibble:tibble]{tibble::tibble()}} with \code{"sql"} attribute and columns:
\itemize{
\item{\code{YEAR}}{Numeric year derived from \code{ENTRY_TIME}.}
\item{\code{MONTH}}{Numeric month derived from \code{ENTRY_TIME}.}
\item{\code{ENTRY_DATE}}{Date (UTC) of the FIR entry.}
\item{\code{TZ_NAME}}{Region name from \code{DIMCL_TZ}.}
\item{\code{DAIO}}{DAIO flag (\code{D}, \code{A}, \code{I}, \code{O}).}
\item{\code{SK_SOURCE_ID}}{Optional source ID when \code{include_source_id = TRUE}.}
\item{\code{FLIGHT}}{Total flights for the grouping.}
}
}
\description{
Runs the DAIO aggregation used by PBWG, grouping the FIR-time entries by
DAIO flag and region. Optional inclusion of \code{SK_SOURCE_ID} reproduces the
CHN-specific variant of the legacy Python query.
}
